# Generated by Django 2.2.13 on 2021-05-26 13:03

import datetime
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion
from django.utils.timezone import utc
import django.utils.timezone


class Migration(migrations.Migration):

    replaces = [('assistant', '0001_initial'), ('assistant', '0002_auto_20160419_1520'),
                ('assistant', '0003_assistantmandate_academic_year'), ('assistant', '0004_auto_20160506_1131'),
                ('assistant', '0005_mandatestructures'), ('assistant', '0006_auto_20160602_2028'),
                ('assistant', '0007_auto_20160607_1057'), ('assistant', '0008_auto_20160607_1143'),
                ('assistant', '0009_auto_20160609_1207'), ('assistant', '0010_auto_20160610_1125'),
                ('assistant', '0011_auto_20160610_1148'), ('assistant', '0012_manager'),
                ('assistant', '0013_auto_20160613_1320'),
                ('assistant', '0014_tutoringlearningunityear_learning_unit_year'),
                ('assistant', '0015_auto_20160623_1244'), ('assistant', '0016_auto_20160714_1343'),
                ('assistant', '0017_auto_20160722_1110'), ('assistant', '0018_auto_20160812_0920'),
                ('assistant', '0019_auto_20161005_1109'), ('assistant', '0020_auto_20161019_1127'),
                ('assistant', '0021_auto_20170209_1453'), ('assistant', '0022_auto_20170413_0330'),
                ('assistant', '0023_auto_20170420_1131'), ('assistant', '0024_auto_20170420_1143'),
                ('assistant', '0025_remove_assistantmandate_grade'), ('assistant', '0026_auto_20170508_1522'),
                ('assistant', '0027_remove_assistantmandate_degrees'), ('assistant', '0028_auto_20170531_1622'),
                ('assistant', '0029_auto_20170717_0859'), ('assistant', '0030_mandateentity'),
                ('assistant', '0031_auto_20170921_1012'), ('assistant', '0032_auto_20170928_1408'),
                ('assistant', '0033_messages_templates_populate'), ('assistant', '0034_auto_20171113_1623'),
                ('assistant', '0035_messages_templates_update'), ('assistant', '0036_auto_20180328_1411'),
                ('assistant', '0037_messages_templates_update'), ('assistant', '0038_auto_20180524_0938'),
                ('assistant', '0039_messages_templates_update'), ('assistant', '0040_auto_20191220_0937'),
                ('assistant', '0041_auto_20191220_0942'),
                ('assistant', '0042_academicassistant_succeed_confirmation_test_date'),
                ('assistant', '0043_auto_20210419_1054')]

    initial = True

    dependencies = [
        ('base', '0024_documentfile'),
        ('base', '0031_applicationnotice'),
        ('osis_common', '0006_modifications_documentfile'),
        ('base', '0156_offeryearentity_education_group_year'),
        ('base', '0047_auto_20160516_2107'),
        ('base', '0096_auto_20170120_1615'),
    ]

    operations = [
        migrations.CreateModel(
            name='AcademicAssistant',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('thesis_title', models.CharField(blank=True, max_length=255, null=True)),
                ('phd_inscription_date', models.DateField(blank=True, null=True)),
                ('confirmation_test_date', models.DateField(blank=True, null=True)),
                ('thesis_date', models.DateField(blank=True, null=True)),
                ('expected_phd_date', models.DateField(blank=True, null=True)),
                ('remark', models.TextField(blank=True, null=True)),
                ('inscription', models.CharField(choices=[('YES', 'Yes'), ('NO', 'No'), ('IN_PROGRESS', 'In progress')], default=None, max_length=12, null=True)),
                ('person', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='base.Person')),
                ('supervisor', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='person_supervisor', to='base.Person')),
                ('succeed_confirmation_test_date', models.DateField(blank=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='AssistantMandate',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('absences', models.TextField(blank=True, null=True)),
                ('comment', models.TextField(blank=True, null=True)),
                ('other_status', models.CharField(blank=True, max_length=50, null=True)),
                ('renewal_type', models.CharField(choices=[('NORMAL', 'Normal'), ('SPECIAL', 'Special'), ('EXCEPTIONAL', 'Exceptional')], default='NORMAL', max_length=12)),
                ('external_functions', models.TextField(blank=True, null=True)),
                ('external_contract', models.CharField(blank=True, max_length=255, null=True)),
                ('justification', models.TextField(blank=True, null=True)),
                ('state', models.CharField(choices=[('DECLINED', 'Refused by the assistant'), ('TO_DO', 'Start'), ('TRTS', 'Assistant'), ('PHD_SUPERVISOR', 'Thesis promoter'), ('RESEARCH', 'President of Institute'), ('SUPERVISION', 'Dean of Faculty'), ('VICE_RECTOR', 'Vice-rector of sector'), ('DONE', 'Completed')], default='TO_DO', max_length=20)),
                ('tutoring_remark', models.TextField(blank=True, null=True)),
                ('activities_report_remark', models.TextField(blank=True, null=True)),
                ('research_percent', models.PositiveIntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('tutoring_percent', models.PositiveIntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('service_activities_percent', models.PositiveIntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('formation_activities_percent', models.PositiveIntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('internships', models.TextField(blank=True, null=True)),
                ('conferences', models.TextField(blank=True, null=True)),
                ('publications', models.TextField(blank=True, null=True)),
                ('awards', models.TextField(blank=True, null=True)),
                ('framing', models.TextField(blank=True, null=True)),
                ('remark', models.TextField(blank=True, null=True)),
                ('formations', models.TextField(blank=True, null=True)),
                ('faculty_representation', models.PositiveIntegerField(default=0)),
                ('institute_representation', models.PositiveIntegerField(default=0)),
                ('sector_representation', models.PositiveIntegerField(default=0)),
                ('governing_body_representation', models.PositiveIntegerField(default=0)),
                ('corsci_representation', models.PositiveIntegerField(default=0)),
                ('students_service', models.PositiveIntegerField(default=0)),
                ('infrastructure_mgmt_service', models.PositiveIntegerField(default=0)),
                ('events_organisation_service', models.PositiveIntegerField(default=0)),
                ('publishing_field_service', models.PositiveIntegerField(default=0)),
                ('scientific_jury_service', models.PositiveIntegerField(default=0)),
                ('appeal', models.CharField(choices=[('NONE', 'None'), ('POSITIVE_APPEAL', 'Positive appeal'), ('NEGATIVE_APPEAL', 'Negative appeal'), ('APPEAL_IN_PROGRESS', 'Appeal in progress'), ('NO_APPEAL', 'No appeal')], default='NONE', max_length=20)),
                ('special', models.BooleanField(default=False)),
                ('contract_duration', models.CharField(max_length=30)),
                ('contract_duration_fte', models.CharField(max_length=30)),
                ('assistant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='assistant.AcademicAssistant')),
                ('service_activities_remark', models.TextField(blank=True, null=True)),
                ('academic_year', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='base.AcademicYear')),
                ('assistant_type', models.CharField(choices=[('ASSISTANT', 'Assistant'), ('TEACHING_ASSISTANT', 'Teaching assistant')], default='ASSISTANT', max_length=20)),
                ('end_date', models.DateField()),
                ('entry_date', models.DateField()),
                ('fulltime_equivalent', models.DecimalField(decimal_places=2, max_digits=3)),
                ('sap_id', models.CharField(max_length=12)),
                ('scale', models.CharField(max_length=3)),
            ],
        ),
        migrations.CreateModel(
            name='Reviewer',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(choices=[('PHD_SUPERVISOR', 'Thesis promoter'), ('SUPERVISION', 'Dean of Faculty'), ('SUPERVISION_ASSISTANT', 'Dean of Faculty representative'), ('SUPERVISION_DAF', 'DAF'), ('SUPERVISION_DAF_ASSISTANT', 'DAF representative'), ('RESEARCH', 'President of Institute'), ('RESEARCH_ASSISTANT', 'Representative of the Institute President'), ('VICE_RECTOR', 'Vice-rector of sector'), ('VICE_RECTOR_ASSISTANT', 'DAS/CAS'), ('VICE_RECTOR_ASSISTANT_ASSISTANT', 'DAS/CAS representative')], max_length=40)),
                ('person', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='base.Person')),
                ('entity', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='base.Entity')),
            ],
        ),
        migrations.CreateModel(
            name='Manager',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('person', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='base.Person')),
            ],
        ),
        migrations.CreateModel(
            name='MandateEntity',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('assistant_mandate', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='assistant.AssistantMandate')),
                ('entity', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='base.Entity')),
            ],
        ),
        migrations.CreateModel(
            name='TutoringLearningUnitYear',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('sessions_duration', models.PositiveIntegerField(blank=True, null=True)),
                ('sessions_number', models.PositiveIntegerField(blank=True, null=True)),
                ('series_number', models.PositiveIntegerField(blank=True, null=True)),
                ('face_to_face_duration', models.PositiveIntegerField(blank=True, null=True)),
                ('attendees', models.PositiveIntegerField(blank=True, null=True)),
                ('preparation_duration', models.PositiveIntegerField(blank=True, null=True)),
                ('exams_supervision_duration', models.PositiveIntegerField(blank=True, null=True)),
                ('mandate', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='assistant.AssistantMandate')),
                ('others_delivery', models.TextField(blank=True, null=True)),
                ('learning_unit_year', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='base.LearningUnitYear')),
            ],
        ),
        migrations.CreateModel(
            name='Settings',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('starting_date', models.DateField()),
                ('ending_date', models.DateField()),
                ('assistants_ending_date', models.DateField()),
                ('assistants_starting_date', models.DateField()),
                ('assistants_contract_end_ending_date', models.DateField()),
                ('assistants_contract_end_starting_date', models.DateField()),
            ],
        ),
        migrations.CreateModel(
            name='AssistantDocumentFile',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('assistant_mandate', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='assistant.AssistantMandate')),
                ('document_file', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='osis_common.DocumentFile')),
            ],
        ),
        migrations.CreateModel(
            name='Message',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateTimeField(default=django.utils.timezone.now, null=True)),
                ('type', models.CharField(choices=[('TO_ALL_ASSISTANTS', 'To the assistants'), ('TO_ALL_DEANS', 'To the Deans of Faculty'), ('TO_PHD_SUPERVISOR', 'To Ph.D. promoter'), ('TO_ONE_DEAN', 'To one Dean'), ('TO_ALL_REVIEWERS', 'To all reviewers')], max_length=20)),
                ('academic_year', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='base.AcademicYear')),
                ('sender', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='assistant.Manager')),
            ],
        ),
        migrations.CreateModel(
            name='Review',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('advice', models.CharField(choices=[('FAVORABLE', 'Favourable'), ('CONDITIONAL', 'Conditional'), ('UNFAVOURABLE', 'Unfavourable')], max_length=20)),
                ('justification', models.TextField(blank=True, null=True)),
                ('remark', models.TextField(blank=True, null=True)),
                ('confidential', models.TextField(blank=True, null=True)),
                ('mandate', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='assistant.AssistantMandate')),
                ('changed', models.DateTimeField(default=django.utils.timezone.now, null=True)),
                ('status', models.CharField(choices=[('IN_PROGRESS', 'In progress'), ('DONE', 'Completed')], max_length=15, null=True)),
                ('reviewer', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='assistant.Reviewer')),
                ('comment_vice_rector', models.TextField(blank=True, null=True)),
            ],
        ),
    ]
